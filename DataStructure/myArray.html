<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>

<body>
    <script>
        class MyArray {
            constructor() {
                this.length = 0;

                // 데이터를 저장해야한다. 
                // 인덱스 번호를 키로하여 데이터를 저장. 즉, 유사배열객체로 저장한다. (array like object)
                this.data = {};
            }
            // 인덱스에 해당하는 데이터를 가져올 수 있습니다.
            get(index) {
                // const key = Object.keys(this.data).find(index);
                // this.data[key];
                return this.data[index];
            }

            // 배열의 가장 마지막 원소로 데이터를 추가합니다.
            push(item) {
                // this.data += `,${Object.keys(this.data).length}:${item}`

                // {0:'a',1:'b',2:'c'}
                // this.data[0]=3
                this.data[this.length] = item;
                this.length++;
                return this.length;
            }

            // 배열의 가장 마지막 원소를 제거합니다.
            pop() {
                const lastItem = this.data[this.length - 1];
                delete this.data[this.length - 1];
                this.length--;
                return lastItem;
            }

            // 인덱스 값으로 원소를 삭제합니다.
            deleteWithIndex(index) {
                const deleteItem = this.data[index];
                this.changeOrderOfItems(index);
                delete this.data[this.length - 1];
                this.length--;
                return deleteItem;
            }

            // 제거해야하는 원소의 다음 원소들의 인덱스 정리가 필요하다.
            changeOrderOfItems(index) {

                // 인자로 전달받은 인덱스부터 정리를 시작한다.
                for (let i = index; i < this.length - 1; i++) {
                    // 다음 인덱스에 있던 원소의 값들을 하나씩 앞으로 땡겨주겠습니다.
                    this.data[i] = this.data[i + 1]
                }
            }
            
        }

        const myArray = new MyArray();
        myArray.push(3);
        myArray.push(6);
        myArray.push(9);
        myArray.push(12);
        myArray.push(15);
    </script>
</body>

</html>